"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[431],{3431:(e,s,r)=>{r.r(s),r.d(s,{default:()=>f});var a=r(5043),n=r(6437),t=r(5002),l=r(593),i=r(3216),d=r(5475),c=r(2200),o=r(579);function m(){const e=(0,i.Zp)(),{id:s}=(0,i.g)(),[r,m]=(0,a.useState)(null);return(0,a.useEffect)((()=>{null===r&&async function(){try{const e=await t.A.get("/user/".concat(s));console.log(e),200===e.status&&m(e.data)}catch(e){console.log(e.message)}}()})),(0,o.jsxs)("div",{children:[(0,o.jsxs)(c.Breadcrumbs,{className:"bg-white",children:[(0,o.jsx)(d.N_,{className:"opacity-60",onClick:()=>{e("/admin")},children:"\u0410\u0434\u043c\u0438\u043d \u043f\u0430\u043d\u0435\u043b\u044c"}),(0,o.jsx)(d.N_,{className:"opacity-60",onClick:()=>{e("/admin/all-users")},children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),null!==r?(0,o.jsx)("span",{children:r.name}):(0,o.jsx)("span",{})]}),null!==r?(0,o.jsx)("div",{className:"xs:px-2 sm:flex md:flex xl:flex justify-between max-w-screen-xl 2xl:max-w-screen-xl lg:px-4 lg:py-2",children:(0,o.jsxs)("div",{className:"flex justify-between items-center p-2 xl:flex lg:flex lg:justify-center lg:items-center sm:flex sm:w-full",children:[(0,o.jsxs)("div",{className:"flex flex-col items-center",children:[(0,o.jsx)("div",{className:n.A.userImg,children:""!==r.avatarUrl?(0,o.jsx)("img",{src:"".concat(l.E,"/").concat(r.avatarUrl),alt:""}):(0,o.jsx)("span",{})}),(0,o.jsx)("div",{className:n.A.userName,children:(0,o.jsx)("span",{children:r.name})})]}),(0,o.jsxs)("div",{className:"sm:ml-2 md:ml-10 lg:ml-5 xl:ml-20",children:[(0,o.jsx)("p",{className:"text-gray-400",children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u044f:"}),(0,o.jsxs)("div",{className:n.A.userMail,children:["\u0418\u043c\u044f: ",(0,o.jsx)("span",{children:r.name})]}),(0,o.jsxs)("div",{className:n.A.userMail,children:["\u041f\u043e\u0447\u0442\u0430: ",(0,o.jsx)("span",{children:r.email})]}),(0,o.jsxs)("div",{className:n.A.userPhone,children:["\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430: ",(0,o.jsx)("span",{children:r.phoneNumber})]}),r.address[0]&&(0,o.jsxs)("div",{className:n.A.userAddress,children:["\u0410\u0434\u0440\u0435\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438: ",(0,o.jsx)("span",{children:r.address[0]})]}),(0,o.jsxs)("div",{className:n.A.userAddress,children:["\u0421\u0442\u0430\u0442\u0443\u0441: ",(0,o.jsx)("span",{children:r.role})]}),(0,o.jsxs)("div",{className:n.A.userOrg,children:["\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f: ",(0,o.jsx)("span",{children:"Don Coffee"})]})]})]})}):(0,o.jsx)("div",{className:"items-center xs:px-2 sm:flex md:flex xl:flex justify-between max-w-screen-xl 2xl:max-w-screen-xl lg:px-4 lg:py-2",children:(0,o.jsxs)("div",{className:"flex justify-center items-center xl:flex lg:flex lg:justify-center lg:items-center sm:flex sm:w-full sm:items-start",children:[(0,o.jsxs)("div",{className:"flex flex-col items-center mx-5",children:[(0,o.jsx)("div",{className:n.A.userImgD}),(0,o.jsx)("div",{className:n.A.userNameD})]}),(0,o.jsxs)("div",{className:"sm:ml-2 md:ml-10 lg:ml-5 xl:ml-20",children:[(0,o.jsx)("p",{children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u044f"}),(0,o.jsx)("div",{className:n.A.userMailD,children:"\u041f\u043e\u0447\u0442\u0430: "}),(0,o.jsx)("div",{className:n.A.userPhoneD,children:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430: "}),(0,o.jsx)("div",{className:n.A.userStatusD,children:"\u0421\u0442\u0430\u0442\u0443\u0441: "}),(0,o.jsx)("div",{className:n.A.userOrgD,children:"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f: "}),(0,o.jsx)("div",{className:n.A.userOrgD,children:"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f: "})]})]})})]})}var x=r(4071),u=r(155),h=r(9359),g=r(2880),j=r(6938),_=r(7659);function p(e){let{data:s,getAllOrders:r,index:n}=e;const[t,l]=(0,a.useState)(!1),[i,d]=(0,a.useState)(!1),[c]=(0,a.useState)(!1),m={open:{transform:"rotate(-180deg"},closed:{transform:"rotate(0deg"}};return(0,o.jsxs)("div",{className:"w-full h-auto text-start border shadow-md rounded-2xl border-blue-gray-900 mb-4",style:{fontSize:"14px",lineHeight:"20px",fontWeight:"400"},children:[(0,o.jsx)("div",{className:u.A.header,children:"\u041d\u043e\u043c\u0435\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),(0,o.jsxs)("div",{className:"flex flex-col gap-2 m-4 text-sm",children:[(0,o.jsxs)("p",{children:["\u0421\u0442\u0430\u0442\u0443\u0441:","\u0414\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043e"===s.status?(0,o.jsx)("span",{className:"text-xs bg-green-100 rounded-full p-1 ml-2",children:s.status}):(0,o.jsx)("span",{className:"text-xs bg-blue-gray-100 rounded-full p-1 ml-2",children:s.status})]}),(0,o.jsxs)("p",{children:["\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u0430: ",(0,o.jsx)("span",{className:u.A.status,children:s.creationDate})]}),(0,o.jsxs)("p",{children:["\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u043a\u0430\u0437\u0430: ",(0,o.jsx)("span",{className:u.A.status,children:s.totalPrice})]}),(0,o.jsxs)("p",{children:["ID ",s._id]})]}),(0,o.jsxs)("div",{className:u.A.footer,onClick:()=>l(!t),children:[(0,o.jsx)("span",{children:(0,o.jsxs)(o.Fragment,{children:[s.listProducts.length,1===s.listProducts.length?" \u0442\u043e\u0432\u0430\u0440":(0,o.jsx)(o.Fragment,{children:s.listProducts.length<5?" \u0442\u043e\u0432\u0430\u0440\u0430":" \u0442\u043e\u0432\u0430\u0440\u043e\u0432"})]})}),(0,o.jsx)("span",{children:(0,o.jsx)(g.P.img,{src:h,alt:"",className:u.A.img,animate:t?"open":"closed",variants:m})})]}),(0,o.jsx)(j.N,{children:t&&(0,o.jsx)(g.P.div,{className:u.A.wrapper,initial:{height:0},animate:{height:"auto"},exit:{height:0},children:(0,o.jsx)("div",{className:u.A.list_wrapper,children:s.listProducts.map(((e,a)=>(0,o.jsx)(_.A,{data:e,isVisible:c,orderId:s._id,getAllOrders:r,bool:!0,index:n},a)))})})}),s.rejectedList.length>0&&(0,o.jsxs)("div",{className:u.A.footer,onClick:()=>d(!i),children:[(0,o.jsx)("span",{children:(0,o.jsxs)(o.Fragment,{children:[" \u0423\u0434\u0430\u043b\u0451\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b \u0438\u0437 \u0437\u0430\u043a\u0430\u0437\u0430"," "+s.rejectedList.length,1===s.rejectedList.length?" \u0442\u043e\u0432\u0430\u0440":(0,o.jsx)(o.Fragment,{children:s.rejectedList.length<5?" \u0442\u043e\u0432\u0430\u0440\u0430":" \u0442\u043e\u0432\u0430\u0440\u043e\u0432"})]})}),(0,o.jsx)("span",{children:(0,o.jsx)(g.P.img,{src:h,alt:"",className:u.A.img,animate:i?"open":"closed",variants:m})})]}),(0,o.jsx)(j.N,{children:i&&(0,o.jsx)(g.P.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},style:{overflow:"hidden"},children:(0,o.jsx)("div",{className:u.A.list_wrapper,children:s.rejectedList.map(((e,a)=>(0,o.jsx)(_.A,{data:e,isVisible:c,orderId:s._id,getAllOrders:r},a)))})})})]})}function A(){const{id:e}=(0,i.g)(),[s,r]=(0,a.useState)(null);return(0,a.useEffect)((()=>{null===s&&async function(){const s=await t.A.get("/user-orders/".concat(e));console.log(s),r(s.data.reverse())}()})),(0,o.jsx)("div",{children:null!==s?(0,o.jsx)(o.Fragment,{children:s.length>0?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"my-10",style:{lineHeight:"35px"},children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u044f"}),(0,o.jsx)(o.Fragment,{children:s.map((e=>(0,o.jsx)(p,{data:e})))})]}):(0,o.jsx)("div",{className:"my-10",style:{lineHeight:"35px"},children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043f\u0443\u0441\u0442\u043e"})}):(0,o.jsx)(x.z,{})})}function f(){return(0,o.jsxs)("div",{children:[(0,o.jsx)(m,{}),(0,o.jsx)(A,{})]})}},7659:(e,s,r)=>{r.d(s,{A:()=>d});var a=r(5043);const n={order:"ProductCard_order__Xcj01",info:"ProductCard_info__lO0OL",img:"ProductCard_img__TjIMA",btn:"ProductCard_btn__NEUn+",saveBtnWrapper:"ProductCard_saveBtnWrapper__oQhLM",container:"ProductCard_container__SaSmC"};var t=r(593),l=r(5002),i=r(579);function d(e){let{data:s,orderId:r,getAllOrders:d,bool:c,index:o}=e;const[m,x]=(0,a.useState)(0);let u=s.amount,h="";async function g(){try{const e="This is comment";console.log({orderId:r,productId:s.id,currentAmount:u,nextAmount:s.amount+m,comment:e});const a=await l.A.patch("/order/product/amount",{orderId:r,productId:s.id,currentAmount:u,nextAmount:s.amount+m,comment:e});console.log(a),200===a.status&&(d(),x(0))}catch(e){console.log(e.message)}}return"coffe-beans"===s.type?h="\u041a\u043e\u0444\u0435":"tea"===s.type?h="\u0427\u0430\u0439":"syrup"===s.type?h="\u0421\u0438\u0440\u043e\u043f":"accessory"===s.type?h="\u0410\u043a\u0441\u0435\u0441\u0441\u0443\u0430\u0440":"chemistry"===s.type?h="\u0425\u0438\u043c\u0438\u044f":"coffee-capsule"===s.type?h="\u041a\u043e\u0444\u0435 \u0432 \u043a\u0430\u043f\u0441\u0443\u043b\u0435":"drip"===s.type&&(h="\u0414\u0440\u0438\u043f-\u043a\u043e\u0444\u0435"),(0,i.jsx)(i.Fragment,{children:c?(0,i.jsxs)("div",{className:n.order,children:[(0,i.jsx)("img",{className:n.img,src:"".concat(t.E,"/").concat(s.img),alt:""}),(0,i.jsxs)("div",{className:n.info,children:[(0,i.jsxs)("p",{children:["\u041d\u0430\u0439\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u044f:",s.name,0!==m&&(0,i.jsx)("span",{className:n.btn,onClick:g,children:"C\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),(0,i.jsxs)("p",{children:["\u041e\u0431\u044c\u0451\u043c: ",s.weight]}),(0,i.jsxs)("p",{children:["\u0426\u0435\u043d\u0430: ",s.price,"\u0441\u0443\u043c"]}),(0,i.jsxs)("p",{children:["\u0412\u0438\u0434 \u0442\u043e\u0432\u0430\u0440\u0430: ",h]}),(0,i.jsxs)("p",{style:{display:"flex"},children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e:",0===o&&(0,i.jsx)("button",{className:n.btn,onClick:function(){if(2>s.amount+m)return g(),null;x((e=>e-1))},children:"-"}),s.amount+m,0===o&&(0,i.jsx)("button",{className:n.btn,onClick:function(){x((e=>e+1))},children:"+"}),0===o&&(0,i.jsx)("button",{className:n.btn,onClick:async function(){try{const e="This is comment";console.log({orderId:r,productId:s.id,amount:s.amount,comment:e});const a=await l.A.patch("/order/product",{orderId:r,productId:s.id,amount:s.amount,comment:e,productWeight:s.weight});200===a.status&&(console.log(a.data),d())}catch(e){console.log(e)}},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})]}):(0,i.jsxs)("div",{className:n.order,children:[(0,i.jsx)("img",{src:"".concat(t.E,"/").concat(s.img),className:n.img,alt:""}),(0,i.jsxs)("div",{className:n.info,children:[(0,i.jsxs)("p",{children:["\u041d\u0430\u0439\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u044f:",s.name]}),(0,i.jsxs)("p",{children:["\u041e\u0431\u044c\u0451\u043c: ",s.weight]}),(0,i.jsxs)("p",{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e: ",null===s||void 0===s?void 0:s.amount]})]})]})})}},6437:(e,s,r)=>{r.d(s,{A:()=>a});const a={header:"UserHeader_header__9rgyI",btn:"UserHeader_btn__KIBpT",tabs:"UserHeader_tabs__s15BX",hrefWrapper:"UserHeader_hrefWrapper__8it0v",tabsItem:"UserHeader_tabsItem__lfXxq",userImg:"UserHeader_userImg__cDDXv",userName:"UserHeader_userName__VmlvB",userMail:"UserHeader_userMail__f5XIM",userAddress:"UserHeader_userAddress__wBkiT",userOrg:"UserHeader_userOrg__w5K0C",userPhone:"UserHeader_userPhone__bz6Ux",userNameD:"UserHeader_userNameD__1eL9-",userMailD:"UserHeader_userMailD__IcFG6",userStatusD:"UserHeader_userStatusD__QfDrT",userOrgD:"UserHeader_userOrgD__TEeCb",userPhoneD:"UserHeader_userPhoneD__pgDxa",userImgD:"UserHeader_userImgD__SOyn9",logout:"UserHeader_logout__81-5H"}},155:(e,s,r)=>{r.d(s,{A:()=>a});const a={container:"OrderCardMonitoring_container__MwPNo",header:"OrderCardMonitoring_header__1-tJd",main:"OrderCardMonitoring_main__wRpSW",footer:"OrderCardMonitoring_footer__6C+RI",order:"OrderCardMonitoring_order__7Albw",left:"OrderCardMonitoring_left__AagjT",info:"OrderCardMonitoring_info__w7hFw",img:"OrderCardMonitoring_img__X4p5f",btn:"OrderCardMonitoring_btn__QB+Bs",saveBtnWrapper:"OrderCardMonitoring_saveBtnWrapper__j+YNF",wrapper:"OrderCardMonitoring_wrapper__dVG9c",status:"OrderCardMonitoring_status__ijAVn"}},9359:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA5klEQVR4nO3YywrCMBCF4TyE9fJ8QjI5ML6hW8VFBRUvb6NULYgLL7VtJnj+bTrQL7NqnWOMMcYYY+xvA8IcCEtVLZyxvPcDQFYxyuLtwzFKCcg5RtlawvgrImzu71a+HRCRIRB294EjgLFLnKoWNQIIJ+/95KNBSxhtirCE0V8RFjDaFiIlRttGpMBoV4g+Mdo1og9Mb4guMb0jusAkQ7SJSY5oA2MG8QvGHKIJxiziG4x5xCeYbBCvMNkh6maz6QiQff2l+YA4VGcup+RhM9lt4rnq9m//AMI6u00wxhhjjDHmrHYB0WttJiI5OC4AAAAASUVORK5CYII="}}]);
//# sourceMappingURL=431.e4b449d6.chunk.js.map