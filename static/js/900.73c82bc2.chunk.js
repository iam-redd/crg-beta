"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[900],{4657:(e,r,t)=>{t.d(r,{A:()=>g});var n=t(5043),o=t(2200),s=t(593),c=t(3003),a=t(3216),i=t(7820),l=t(3838),d=t(1036),p=t(1084),h=t(1012),u=t(4851),m=t(7392),x=t(579);const g=e=>{var r;let{data:t}=e;const g=["\u041a\u0440\u0430\u0444\u0442-\u043f\u0430\u043a\u0435\u0442","\u041a\u0430\u0440\u0442\u043e\u043d\u043d\u0430\u044f","\u0410\u043b\u044c\u044e\u043c\u0438\u043d\u0438\u0435\u0432\u0430\u044f"],[v,f]=(0,n.useState)(!1),j=(0,c.d4)((e=>e.basket.basket)),[b,A]=(0,n.useState)(!1),S=(0,c.d4)((e=>e.user.userInfo)),[y,z]=(0,n.useState)(null),[k,N]=(0,n.useState)(null),[C,R]=(0,n.useState)(0),w=(0,c.wA)(),O=(0,a.Zp)(),[U,B]=(0,n.useState)(1),F=e=>d.oR.error(e);return(0,n.useEffect)((()=>{const e=j.filter((e=>e.id===t._id)).filter((e=>e.package===k));console.log(e),j.length>0&&e.length>0&&z(e[0].index)}),[j,t._id,k]),(0,x.jsx)("div",{className:"",children:(0,x.jsxs)(o.Card,{className:"w-80 md:w-80 h-full border py-5 px-5 card-hover snap-center",children:[(0,x.jsxs)("div",{className:l.A.header,children:[(0,x.jsx)("span",{className:"text-xs text-red-700",children:t.stopList&&"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438"}),(0,x.jsx)("span",{className:"text-xs",children:t.topList&&"\u0422\u043e\u043f-\u043d\u0435\u0434\u0435\u043b\u0438"})]}),(0,x.jsx)("h2",{className:"text-center font-bold text-xl",children:t.name}),(0,x.jsx)("p",{className:"text-center text-xs mx-auto border-none p-0.5 mb-1.5",children:t.color}),(0,x.jsx)("div",{className:"flex",children:(0,x.jsx)("img",{src:"".concat(s.E,"/").concat(t.img),alt:"card-img",className:"object-cover object-center w-full"})}),(0,x.jsx)("div",{className:"mt-5 text-sm",children:(0,x.jsxs)("p",{className:"line-clamp-3",children:["\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: ",(0,x.jsx)("span",{children:t.description})]})}),(0,x.jsx)("div",{className:"flex justify-between mt-2 text-sm",children:(0,x.jsxs)("div",{className:"grid grid-cols-4 items-center",children:[(0,x.jsx)("p",{children:"\u0423\u043f\u0430-\u043a\u0430: "}),(0,x.jsx)("div",{className:"col-span-3",children:(0,x.jsx)(o.Select,{size:"md",label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043f\u0430-\u043a\u0443",onChange:e=>(e=>{console.log(e);const r=j.filter((r=>r.package===e));console.log(r);const t=g.indexOf(e);N(e),R((e=>t)),r.length>0?(B(r[0].amount),z(r[0].index),A(!0)):(A(!1),B(1))})(e),onClick:()=>f(!1),style:{borderColor:v?"red":""},children:g.map(((e,r)=>(0,x.jsx)(o.Option,{value:e,disabled:!t.package[r],children:e},r)))})})]})}),(0,x.jsx)("div",{className:"mt-5",children:(0,x.jsxs)(o.Typography,{variant:"h6",children:["\u0426\u0435\u043d\u0430:",(0,x.jsxs)("span",{children:[!g.includes(k)&&"\u043e\u0442 ",null!==S&&"superUser"===S.role?(0,x.jsx)(x.Fragment,{children:null===k&&0===C?"0"!==t.priceWS[0]?t.priceWS[0]:"0"!==t.priceWS[1]?t.priceWS[1]:t.priceWS[2]:t.priceWS[g.indexOf(k)]}):(0,x.jsx)(x.Fragment,{children:null===k&&0===C?"0"!==t.priceUser[0]?t.priceUser[0]:"0"!==t.priceUser[1]?t.priceUser[1]:t.priceUser[2]:t.priceUser[g.indexOf(k)]})]}),"UZS"]})}),(0,x.jsx)("div",{className:"flex mt-5 items-center justify-between",children:b?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsx)(m.A,{onClick:function(){try{if(!b)return F("\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u043e\u0431\u0430\u0432\u0442\u0435 \u0442\u043e\u0432\u0430\u0440 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443");if(null===y)return F("\u0422\u043e\u0432\u0430\u0440 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d");if(1===U)return;B((e=>e-1)),b&&w((0,i.Lf)(y))}catch(e){console.log("first error")}},children:(0,x.jsx)(p.A,{fontSize:"inherit",sx:{color:u.A[500]}})}),(0,x.jsx)("span",{children:null===(r=j[y])||void 0===r?void 0:r.amount}),(0,x.jsx)(m.A,{onClick:function(){try{if(null===y)return F("\u0422\u043e\u0432\u0430\u0440 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d");b&&(B((e=>e+1)),w((0,i.Xv)(y)))}catch(e){F(e)}},children:(0,x.jsx)(h.A,{fontSize:"inherit",sx:{color:u.A[500]}})})]}),(0,x.jsx)(o.Button,{variant:"outlined",size:"sm",color:"blue-gray",onClick:()=>O("/basket"),children:(0,x.jsx)("h3",{children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438"})})]}):(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(o.Button,{className:"font-medium",color:"red",variant:"gradient",size:"sm",onClick:function(){if(R(0),f(!1),null===k)return f(!0),F("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0443"),console.log("\u0423\u043f\u0430\u043a\u043e\u0432\u043a\u0430 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d");const e={id:t._id,amount:U,price:null!==S&&"superUser"===S.role?t.priceWS[g.indexOf(k)]:t.priceUser[g.indexOf(k)],package:k,name:t.name,img:t.img,type:t.type};w((0,i.S8)(e)),z(j.length),A(!0)},children:(0,x.jsx)("h3",{children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})})})})]})})}},1900:(e,r,t)=>{t.r(r),t.d(r,{default:()=>o});t(5043),t(4657);var n=t(579);const o=()=>(0,n.jsx)("div",{children:(0,n.jsx)("h1",{children:"NotFound"})})},1012:(e,r,t)=>{t.d(r,{A:()=>s});var n=t(9662),o=t(579);const s=(0,n.A)((0,o.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddBox")},1084:(e,r,t)=>{t.d(r,{A:()=>s});var n=t(9662),o=t(579);const s=(0,n.A)((0,o.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-2 10H7v-2h10z"}),"IndeterminateCheckBox")},7392:(e,r,t)=>{t.d(r,{A:()=>b});var n=t(8587),o=t(5787),s=t(5043),c=t(8387),a=t(8606),i=t(7266),l=t(4535),d=t(3847),p=t(6236),h=t(6803),u=t(7056),m=t(2400);function x(e){return(0,m.Ay)("MuiIconButton",e)}const g=(0,u.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);var v=t(579);const f=["edge","children","className","color","disabled","disableFocusRipple","size"],j=(0,l.Ay)(p.A,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,"default"!==t.color&&r["color".concat((0,h.A)(t.color))],t.edge&&r["edge".concat((0,h.A)(t.edge))],r["size".concat((0,h.A)(t.size))]]}})((e=>{let{theme:r,ownerState:t}=e;return(0,o.A)({textAlign:"center",flex:"0 0 auto",fontSize:r.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(r.vars||r).palette.action.active,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:r.vars?"rgba(".concat(r.vars.palette.action.activeChannel," / ").concat(r.vars.palette.action.hoverOpacity,")"):(0,i.X4)(r.palette.action.active,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})}),(e=>{let{theme:r,ownerState:t}=e;var n;const s=null==(n=(r.vars||r).palette)?void 0:n[t.color];return(0,o.A)({},"inherit"===t.color&&{color:"inherit"},"inherit"!==t.color&&"default"!==t.color&&(0,o.A)({color:null==s?void 0:s.main},!t.disableRipple&&{"&:hover":(0,o.A)({},s&&{backgroundColor:r.vars?"rgba(".concat(s.mainChannel," / ").concat(r.vars.palette.action.hoverOpacity,")"):(0,i.X4)(s.main,r.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===t.size&&{padding:5,fontSize:r.typography.pxToRem(18)},"large"===t.size&&{padding:12,fontSize:r.typography.pxToRem(28)},{["&.".concat(g.disabled)]:{backgroundColor:"transparent",color:(r.vars||r).palette.action.disabled}})})),b=s.forwardRef((function(e,r){const t=(0,d.A)({props:e,name:"MuiIconButton"}),{edge:s=!1,children:i,className:l,color:p="default",disabled:u=!1,disableFocusRipple:m=!1,size:g="medium"}=t,b=(0,n.A)(t,f),A=(0,o.A)({},t,{edge:s,color:p,disabled:u,disableFocusRipple:m,size:g}),S=(e=>{const{classes:r,disabled:t,color:n,edge:o,size:s}=e,c={root:["root",t&&"disabled","default"!==n&&"color".concat((0,h.A)(n)),o&&"edge".concat((0,h.A)(o)),"size".concat((0,h.A)(s))]};return(0,a.A)(c,x,r)})(A);return(0,v.jsx)(j,(0,o.A)({className:(0,c.A)(S.root,l),centerRipple:!0,focusRipple:!m,disabled:u,ref:r},b,{ownerState:A,children:i}))}))},3838:(e,r,t)=>{t.d(r,{A:()=>n});const n={header:"CoffeCard_header__d2-Ex"}}}]);
//# sourceMappingURL=900.73c82bc2.chunk.js.map