"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[992],{6992:(e,s,t)=>{t.r(s),t.d(s,{default:()=>d});var l=t(5043);const n={form:"Login_form__ELMd4",btn:"Login_btn__UjcZG",tab:"Login_tab__B5dU4",container:"Login_container__RBDPX",wrapper:"Login_wrapper__jJiiz"};var a=t(5002),i=t(7424),o=t(3003),r=t(3216),c=t(2200),u=t(579);const d=e=>{let{setLoginVisible:s,setRegisterVisible:t,setCodeFormVisible:d}=e;const[m,p]=(0,l.useState)(!1),[f,v]=(0,l.useState)(!1),x=(0,o.wA)(),[h,g]=((0,r.Zp)(),(0,l.useState)("")),b=/^\+998[0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]$/,j=e=>{g(e),v(!0)};return(0,l.useEffect)((()=>{p(!0)}),[p]),(0,u.jsxs)("form",{onSubmit:async e=>{try{e.preventDefault(),v(!1);const t={phoneNumber:e.target.email.value.trim()};if(console.log(t),""===t.phoneNumber)return void j("\u0418\u043c\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u043f\u043e\u043b\u044f");if(!b.test(t.phoneNumber))return void j("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430");if(200===(await a.A.post("/login",t)).status){x((0,i.UM)(t));200===(await a.A.post("/send-code",t)).status&&(s(!1),setTimeout((()=>{d(!0)}),200))}}catch(c){var t,l,n;console.log(c);const e=(null===c||void 0===c||null===(t=c.response)||void 0===t?void 0:t.status)||null;var o,r;if(null!==c&&void 0!==c&&null!==(l=c.response)&&void 0!==l&&null!==(n=l.data)&&void 0!==n&&n.message)j(null===c||void 0===c||null===(o=c.response)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.message);else j(500===e?"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u0441\u044f":c.message)}},className:"w-full md:w-max ".concat(n.form),children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{className:"text-center font-bold text-lg",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),(0,u.jsxs)("p",{className:"py-4 text-center",children:["\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c, \u0440\u0430\u0434\u044b \u0432\u0430\u0441 \u0432\u0438\u0434\u0435\u0442\u044c. ",(0,u.jsx)("br",{})," \u0427\u0442\u043e\u0431\u044b \u0432\u043e\u0439\u0442\u0438 \u0432 \u0441\u0432\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0438 \u0434\u0430\u043d\u043d\u044b\u0435."]})]}),(0,u.jsx)(c.Input,{type:"text",label:"\u0412\u0430\u0448 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",name:"email",className:n.input,defaultValue:"+998"}),f&&(0,u.jsxs)(c.Typography,{variant:"small",color:"gray",className:"mt-2 flex items-center gap-1 font-normal",children:[(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"-mt-px h-4 w-4",children:(0,u.jsx)("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 01.67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 11-.671-1.34l.041-.022zM12 9a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})}),(0,u.jsx)("p",{className:"text-red-500",children:h})]}),(0,u.jsx)("div",{className:"w-full flex justify-between",children:(0,u.jsx)("p",{className:"cursor-pointer",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})}),(0,u.jsxs)("div",{className:"flex w-full justify-around items-center",children:[(0,u.jsx)("button",{className:n.btn,children:m?"\u0412\u043e\u0439\u0442\u0438":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),(0,u.jsx)("p",{className:"cursor-pointer ",onClick:()=>{s(!1),setTimeout((()=>{t(!0)}),200)},children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})}}}]);
//# sourceMappingURL=992.158551bf.chunk.js.map