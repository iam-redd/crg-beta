"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[618],{1721:(e,t,n)=>{n.r(t),n.d(t,{default:()=>z});var r=n(5043),a=n(3003),s=n(5002);const l="ProductCard_product_container__koKqw",o="ProductCard_img__qB7vf",c="ProductCard_resize__f4isG";var i=n(593),d=n(7820),u=n(7392),m=n(3471),x=n(4851),p=n(1084),h=n(1012),f=n(579);const v=function(e){var t,n,r,s;let{index:v}=e;const j=(0,a.d4)((e=>e.basket.basket)),g=(0,a.wA)();function b(){g((0,d.oo)(v))}return(0,f.jsx)(f.Fragment,{children:(null===(t=j[v])||void 0===t?void 0:t.amount)>0?(0,f.jsxs)("div",{className:"rounded mx-4 my-2 flex flex-wrap sm:flex-nowrap ".concat(l),children:[(0,f.jsx)("img",{className:" sm:w-2/4 lg:w-1/5 md:w-2/5 ".concat(c," ").concat(o),src:"".concat(i.E,"/").concat(null===(n=j[v])||void 0===n?void 0:n.img[0]),alt:"product card"}),(0,f.jsxs)("div",{className:"ml-4 xl:ml-10 flex flex-auto flex-col md:flex-row",children:[(0,f.jsxs)("div",{className:"flex flex-col justify-center md:justify-start",children:[(0,f.jsxs)("div",{className:"font-bold text-lg text-center md:text-start mt-2 md:mt-0",children:[(0,f.jsxs)("span",{children:[null===(r=j[v])||void 0===r?void 0:r.name," "]}),(0,f.jsx)("span",{className:"text-sm font-medium text-red-700",children:j[v].stopList&&(0,f.jsx)("span",{children:" \u043d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438!"})})]}),(0,f.jsx)("div",{className:"flex flex-row justify-center text-center",children:(0,f.jsxs)("div",{className:"flex flex-col gap-4",children:[(j[v].type,(0,f.jsx)("p",{children:j[v].package})),"coffe-beans"===j[v].type&&(0,f.jsxs)("div",{className:"flex flex-col",children:[(0,f.jsxs)("span",{className:"text-sm",children:["\u0412\u0435\u0441: ",(0,f.jsx)("span",{className:"ml-1 font-medium border-b border-dashed border-black",children:j[v].weight})]}),(0,f.jsxs)("span",{className:"text-sm my-2",children:["\u041e\u0431\u0436\u0430\u0440\u043a\u0430: ",(0,f.jsx)("span",{className:"ml-1 text-xs text-red-400 justify-center rounded border border-red-200 p-1",children:j[v].roast})]}),(0,f.jsxs)("span",{className:"text-sm",children:["\u041f\u043e\u043c\u043e\u043b: ",(0,f.jsx)("span",{className:"font-medium border-b border-dashed border-black",children:j[v].pomol})]})]})]})})]}),(0,f.jsxs)("div",{className:"mt-5 items-center w-full md:w-max flex-auto flex justify-end md:flex-start",children:[(0,f.jsx)("p",{className:"text-sm font-medium",children:"\u041a\u043e\u043b-\u0432\u043e:"}),(0,f.jsx)(u.A,{onClick:function(){try{if(1===j[v].amount)return b();g((0,d.Lf)(v))}catch(e){console.log("first error")}},children:(0,f.jsx)(p.A,{sx:{color:x.A[300]}})}),(0,f.jsx)("span",{children:null===(s=j[v])||void 0===s?void 0:s.amount}),(0,f.jsx)(u.A,{onClick:function(){g((0,d.Xv)(v))},children:(0,f.jsx)(h.A,{sx:{color:x.A[300]}})}),(0,f.jsx)(u.A,{onClick:b,"aria-label":"delete",size:"large",children:(0,f.jsx)(m.A,{sx:{color:x.A[600]}})})]})]})]}):(0,f.jsx)(f.Fragment,{})})},j="Basket_btn__BUiJy",g="OrderForm_form__N-DQC",b="OrderForm_textarea__yr-Yx",A="OrderForm_texttip__TFRCR";var y=n(2200);function w(e){let{totalPrice:t}=e;const[n,l]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!1),[i,u]=(0,r.useState)(!1),[m,x]=(0,r.useState)(""),p=(0,a.wA)(),h=(0,a.d4)((e=>e.basket.basket)),v=(0,a.d4)((e=>e.user.userInfo)),[j,w]=(0,r.useState)(null),[N,k]=(0,r.useState)(!1);return(0,f.jsx)(f.Fragment,{children:h.length>0&&null!==v?(0,f.jsxs)("form",{className:"py-2  ".concat(g),onSubmit:async function(e){try{if(e.preventDefault(),u(!1),null===j)return x("\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d"),u(!0),void l(!1);if(!v.isActive)return x("\u0412\u044b \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u044b \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044e"),u(!0),void l(!1);const n=e.target.comment.value,r=h.filter((e=>e.stopList));if(r.length>0)return x("".concat(r[0].name," \u043d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438")),u(!0),void l(!1);const a=await s.A.post("/new-order",{basket:h,comment:n,totalPrice:t,paymentMethod:j});if(200!==a.status)throw new Error("Order not created successfully");console.log(new Date(a.data.createdAt)),p((0,d.jj)())}catch(n){console.log(n)}l(!1)},children:[(0,f.jsx)("div",{className:"p-2 rounded bg-gray-100",children:(0,f.jsx)("div",{className:"col-span-3 w-auto",children:(0,f.jsxs)(y.Select,{size:"md",label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b",onChange:e=>w(e),style:{borderColor:N?"red":""},onClick:()=>k(!1),children:[(0,f.jsx)(y.Option,{value:"\u041f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435\u043c",children:"\u041f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435\u043c"}),(0,f.jsx)(y.Option,{value:"PayMe",children:"PayMe"}),(0,f.jsx)(y.Option,{value:"\u0414\u0440\u0443\u0433\u043e\u0435",children:"\u0414\u0440\u0443\u0433\u043e\u0435"})]})})}),(0,f.jsxs)("div",{className:"flex items-center gap-1",children:[(0,f.jsx)(y.Checkbox,{onChange:()=>{c(!o),l(!o)}}),(0,f.jsxs)("span",{className:A,children:[" \u0421\u043e\u0433\u043b\u0430\u0441\u0435\u043d \u0441 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c\u0438",(0,f.jsx)("a",{href:" # ",children:"\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445"}),",",(0,f.jsx)("a",{href:" # ",children:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0438"})," \u0438",(0,f.jsx)("a",{href:"# ",children:"\u041f\u0443\u0431\u043b\u0438\u0447\u043d\u043e\u0439 \u043e\u0444\u0435\u0440\u0442\u044b"})]})]}),(0,f.jsx)("textarea",{className:b,name:"comment",placeholder:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f \u0434\u043b\u044f \u0437\u0430\u043a\u0430\u0437\u0430"}),i&&(0,f.jsxs)(y.Typography,{variant:"small",color:"gray",className:"mt-2 flex items-center gap-1 font-normal",children:[(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"-mt-px h-4 w-4",children:(0,f.jsx)("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 01.67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 11-.671-1.34l.041-.022zM12 9a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})}),(0,f.jsx)("p",{className:"text-red-500",children:m})]}),(0,f.jsx)(y.Button,{type:"submit",color:"red",variant:"outlined",disabled:!n,children:"\u0417\u0410\u041a\u0410\u0417\u0410\u0422\u042c"})]}):(0,f.jsx)("p",{className:"text-center",children:"\u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u043e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0441\u0432\u043e\u0439 \u0437\u0430\u043a\u0430\u0437, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0438\u043b\u0438 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c"})})}const N=n.p+"static/media/cart.0b1a0286d596fa534a58.png";var k=n(3216),C=n(4071);const z=()=>{const e=(0,a.d4)((e=>e.basket.allProductsId)),t=(0,a.d4)((e=>e.service.allProducts)),n=(0,a.wA)(),l=(0,a.d4)((e=>e.basket.basket)),[o,c]=(0,r.useState)(0),[i,u]=(0,r.useState)(null),m=(0,k.Zp)();function x(){let e=0;l.map((t=>{const n=+t.price.split(" ").join(""),r=t.amount;return e+=r*n,null})),function(e){let t=String(e).split(""),n=[];t=t.reverse(),t.map(((e,t)=>(2===t||5===t||8===t?(n.push(e),n.push(" ")):n.push(e),null))),n=n.reverse().join(""),c(n)}(e)}return(0,r.useEffect)((()=>{null===i&&e.length>0&&async function(){try{if(200!==(await s.A.post("/post/favorites",{params:e})).status)throw new Error("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u043e \u043e\u0448\u0438\u0431\u043a\u0430");u(l)}catch(t){alert(t.message)}}(),null===i&&null!==t&&function(e){let r=[];l.map((e=>(t.filter((t=>(e.id===t._id&&r.push(t.stopList),null))),null))),n((0,d.aA)(r))}(),l.length>0&&x()})),(0,f.jsx)("div",{className:"xl:mx-auto xl:max-w-screen-xl 2xl:max-w-screen-2xl",children:e.length>0?(0,f.jsx)(f.Fragment,{children:null===i?(0,f.jsx)("div",{className:"",children:(0,f.jsx)(C.z,{})}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"text-xl font-bold text-center my-6 lg:my-10",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),(0,f.jsxs)("div",{className:"flex flex-col md:flex-row justify-between",children:[(0,f.jsx)("div",{className:"w-full",children:i.map(((e,t)=>(0,f.jsx)(v,{index:t},t)))}),(0,f.jsxs)("div",{className:"p-8 md:p-2",children:[(0,f.jsx)("div",{className:"flex-col",children:(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:"font-bold text-lg",children:"\u0418\u0442\u043e\u0433\u043e \u043a \u043e\u043f\u043b\u0430\u0442\u0435:"}),(0,f.jsxs)("span",{className:"border-b ",children:[o," \u0441\u0443\u043c"]})]})}),(0,f.jsx)(w,{totalPrice:o})]})]})]})}):(0,f.jsxs)("div",{className:"flex flex-col items-center",children:[(0,f.jsx)("div",{className:"opacity-10 pt-10 w-72",children:(0,f.jsx)("img",{src:N,alt:"",className:""})}),(0,f.jsx)("div",{className:"my-10 text-center",children:"\u0423 \u0432\u0430\u0441 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0435, \u043c\u043e\u0436\u0435\u043c \u044d\u0442\u043e \u0438\u0441\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043a\u043b\u0438\u043a\u043d\u0443\u0432 \u043f\u043e \u043a\u043d\u043e\u043f\u043a\u0435 \u0441\u043d\u0438\u0437\u0443"}),(0,f.jsx)("button",{className:"mb-20 ".concat(j),onClick:()=>m("/shop"),children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043c\u0430\u0433\u0430\u0437\u0438\u043d"})]})})}},3471:(e,t,n)=>{var r=n(4994);t.A=void 0;var a=r(n(39)),s=n(579);t.A=(0,a.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},1012:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(9662),a=n(579);const s=(0,r.A)((0,a.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddBox")},1084:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(9662),a=n(579);const s=(0,r.A)((0,a.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-2 10H7v-2h10z"}),"IndeterminateCheckBox")},39:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(8915)},7392:(e,t,n)=>{n.d(t,{A:()=>b});var r=n(8587),a=n(5787),s=n(5043),l=n(8387),o=n(8606),c=n(7266),i=n(4535),d=n(3847),u=n(6236),m=n(6803),x=n(7056),p=n(2400);function h(e){return(0,p.Ay)("MuiIconButton",e)}const f=(0,x.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);var v=n(579);const j=["edge","children","className","color","disabled","disableFocusRipple","size"],g=(0,i.Ay)(u.A,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t["color".concat((0,m.A)(n.color))],n.edge&&t["edge".concat((0,m.A)(n.edge))],t["size".concat((0,m.A)(n.size))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,a.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,c.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(e=>{let{theme:t,ownerState:n}=e;var r;const s=null==(r=(t.vars||t).palette)?void 0:r[n.color];return(0,a.A)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,a.A)({color:null==s?void 0:s.main},!n.disableRipple&&{"&:hover":(0,a.A)({},s&&{backgroundColor:t.vars?"rgba(".concat(s.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,c.X4)(s.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{["&.".concat(f.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),b=s.forwardRef((function(e,t){const n=(0,d.A)({props:e,name:"MuiIconButton"}),{edge:s=!1,children:c,className:i,color:u="default",disabled:x=!1,disableFocusRipple:p=!1,size:f="medium"}=n,b=(0,r.A)(n,j),A=(0,a.A)({},n,{edge:s,color:u,disabled:x,disableFocusRipple:p,size:f}),y=(e=>{const{classes:t,disabled:n,color:r,edge:a,size:s}=e,l={root:["root",n&&"disabled","default"!==r&&"color".concat((0,m.A)(r)),a&&"edge".concat((0,m.A)(a)),"size".concat((0,m.A)(s))]};return(0,o.A)(l,h,t)})(A);return(0,v.jsx)(g,(0,a.A)({className:(0,l.A)(y.root,i),centerRipple:!0,focusRipple:!p,disabled:x,ref:t},b,{ownerState:A,children:c}))}))},7220:(e,t,n)=>{n.d(t,{A:()=>r});const r=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];clearTimeout(t),t=setTimeout((()=>{e.apply(this,a)}),n)}return r.clear=()=>{clearTimeout(t)},r}},8915:(e,t,n)=>{n.r(t),n.d(t,{capitalize:()=>a.A,createChainedFunction:()=>s,createSvgIcon:()=>l.A,debounce:()=>o.A,deprecatedPropType:()=>c,isMuiElement:()=>u,ownerDocument:()=>m.A,ownerWindow:()=>x.A,requirePropFactory:()=>p,setRef:()=>h,unstable_ClassNameGenerator:()=>k,unstable_useEnhancedEffect:()=>f.A,unstable_useId:()=>g,unsupportedProp:()=>b,useControlled:()=>A,useEventCallback:()=>y.A,useForkRef:()=>w.A,useIsFocusVisible:()=>N.A});var r=n(5430),a=n(6803);const s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];e.apply(this,r),t.apply(this,r)}),(()=>{}))};var l=n(9662),o=n(7220);const c=function(e,t){return()=>null};var i=n(5043),d=n.t(i,2);const u=function(e,t){var n,r;return i.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(r=e.type)||null==(r=r._payload)||null==(r=r.value)?void 0:r.muiName)};var m=n(8456),x=n(819);n(5787);const p=function(e,t){return()=>null};const h=n(9184).A;var f=n(5013);let v=0;const j=d["useId".toString()];const g=function(e){if(void 0!==j){const t=j();return null!=e?e:t}return function(e){const[t,n]=i.useState(e),r=e||t;return i.useEffect((()=>{null==t&&(v+=1,n("mui-".concat(v)))}),[t]),r}(e)};const b=function(e,t,n,r,a){return null};const A=function(e){let{controlled:t,default:n,name:r,state:a="value"}=e;const{current:s}=i.useRef(void 0!==t),[l,o]=i.useState(n);return[s?t:l,i.useCallback((e=>{s||o(e)}),[])]};var y=n(9148),w=n(5849),N=n(2191);const k={configure:e=>{r.A.configure(e)}}},8456:(e,t,n)=>{n.d(t,{A:()=>r});const r=n(2144).A},819:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(2144);const a=function(e){return(0,r.A)(e).defaultView||window}},5013:(e,t,n)=>{n.d(t,{A:()=>r});const r=n(3844).A},2144:(e,t,n)=>{function r(e){return e&&e.ownerDocument||document}n.d(t,{A:()=>r})}}]);
//# sourceMappingURL=618.30891139.chunk.js.map