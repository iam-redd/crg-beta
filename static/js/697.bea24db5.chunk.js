"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[697],{6697:(e,r,t)=>{t.r(r),t.d(r,{default:()=>x});var o=t(5043),d=t(3003);const s="AllGoods_wrapper__ewvsw",n="AllGoods_tr__4yibB";var a=t(5002),c=t(1036),l=t(2200),i=t(1597),h=t(3216),g=t(579);const x=()=>{const e=(0,d.d4)((e=>e.service.allProducts)),r=(0,d.wA)(),t=(0,d.d4)((e=>e.user.userInfo)),x=(0,h.Zp)(),u=(e,r)=>{"error"===r?c.oR.error(e,"error"):c.oR.success(e,"error")};return(0,o.useEffect)((()=>{null!==t&&"admin"!==t.role&&x(-1)})),(0,g.jsxs)("div",{className:s,children:[(0,g.jsx)("h2",{children:"\u0412\u0441\u0435 \u0442\u043e\u0432\u0430\u0440\u044b"}),(0,g.jsxs)("table",{className:"w-full min-w-max table-auto text-left",children:[(0,g.jsx)("thead",{children:(0,g.jsx)("tr",{children:["\u2116","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u044f","\u0422\u043e\u043f","\u0421\u0442\u043e\u043f-\u043b\u0438\u0441\u0442","\u0423\u0434\u0430\u043b\u0438\u0442\u044c"].map((e=>(0,g.jsx)("th",{className:"border-y border-blue-gray-100 bg-blue-gray-50/50 p-4",children:(0,g.jsx)(l.Typography,{variant:"small",color:"blue-gray",className:"font-normal leading-none opacity-70",children:e})},e._id)))})}),(0,g.jsx)("tbody",{children:null!==e&&e.map(((e,t)=>(0,g.jsxs)("tr",{className:n,children:[(0,g.jsx)("td",{children:t+1}),(0,g.jsx)("td",{children:e.name}),(0,g.jsx)("td",{children:e.topList?(0,g.jsx)("button",{className:"text-red-700 hover:text-white border border-red-400 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-bolder rounded-lg text-xs px-3 py-2 text-center me-2 mb-2 dark:red-green-500 dark:text-red-500 dark:hover:text-white dark:hover:bg-red-600 dark:focus:ring-red-800",onClick:()=>(async e=>{try{const t=await a.A.patch("/post/delete-from-top",{postId:e});200===t.status&&r((0,i.Ob)(t.data))}catch(t){console.log(t)}})(e._id),children:"\u0418\u0437 \u0442\u043e\u043f\u0430"}):(0,g.jsx)("button",{onClick:()=>(async e=>{try{const t=await a.A.patch("/post/add-in-top",{postId:e});200===t.status&&r((0,i.Ob)(t.data))}catch(t){console.log(t)}})(e._id),className:"text-green-700 hover:text-white border border-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-bolder rounded-lg text-xs px-3 py-2 text-center me-2 mb-2 dark:border-green-500 dark:text-green-500 dark:hover:text-white dark:hover:bg-green-600 dark:focus:ring-green-800",children:"\u0412 \u0442\u043e\u043f"})}),(0,g.jsx)("td",{children:e.stopList?(0,g.jsx)("button",{className:"text-green-700 hover:text-white border border-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-bolder rounded-lg text-xs px-3 py-2 text-center me-2 mb-2 dark:border-green-500 dark:text-green-500 dark:hover:text-white dark:hover:bg-green-600 dark:focus:ring-green-800",onClick:()=>(async e=>{try{const t=await a.A.patch("/post/delete-from-stop",{postId:e});200===t.status&&r((0,i.Ob)(t.data))}catch(t){console.log(t)}})(e._id),children:"\u0418\u0437 \u0441\u0442\u043e\u043f\u0430"}):(0,g.jsx)("button",{onClick:()=>(async e=>{try{const t=await a.A.patch("/post/add-in-stop",{postId:e});200===t.status&&r((0,i.Ob)(t.data))}catch(t){console.log(t)}})(e._id),className:"text-red-700 hover:text-white border border-red-400 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-bolder rounded-lg text-xs px-3 py-2 text-center me-2 mb-2 dark:red-green-500 dark:text-red-500 dark:hover:text-white dark:hover:bg-red-600 dark:focus:ring-red-800",children:"\u0412 \u0441\u0442\u043e\u043f"})}),(0,g.jsx)("td",{children:(0,g.jsx)("button",{className:"text-red-700 hover:text-white border border-red-400 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-bolder rounded-lg text-xs px-3 py-2 text-center me-2 mb-2 dark:red-green-500 dark:text-red-500 dark:hover:text-white dark:hover:bg-red-600 dark:focus:ring-red-800",onClick:()=>(async e=>{try{console.log(e);const t={postId:e},o=await a.A.post("/post",t);200===o.status&&(r((0,i.Ob)(o.data)),u("\u0422\u043e\u0432\u0430\u0440 \u0443\u0434\u0430\u043b\u0435\u043d","success")),console.log(o)}catch(t){console.log(t),u("\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442 \u0442\u043e\u0432\u0430\u0440","error")}})(e._id),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]},t)))})]}),(0,g.jsx)(c.N9,{autoClose:3e3})]})}}}]);
//# sourceMappingURL=697.bea24db5.chunk.js.map