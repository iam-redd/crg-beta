"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[359],{4359:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var l=s(5043);const a="Registration_form__WnmmE",n="Registration_bordered__PGNZJ",r="UploadImage_upload_container__fAMD5",i="UploadImage_title2__Ih4MP";var o=s(5002),c=(s(4229),s(593)),d=s(4071),u=s(2200),m=s(579);const p=e=>{let{list:t,setList:s}=e;const a=(0,l.useRef)(),[n,p]=(0,l.useState)(!1);return(0,m.jsxs)("div",{className:r,children:[(0,m.jsx)("div",{className:i,children:null===t?(0,m.jsx)(m.Fragment,{children:n?(0,m.jsx)(d.z,{}):(0,m.jsxs)(u.Button,{onClick:()=>a.current.click(),variant:"outlined",className:"flex items-center gap-3",children:[(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"h-5 w-5",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z"})}),"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0430\u0432\u0430\u0442\u0430\u0440\u043a\u0443"]})}):(0,m.jsx)("img",{src:"".concat(c.E,"/").concat(t),alt:""})}),(0,m.jsx)("input",{type:"file",onChange:async()=>{try{p(!0);const e=a.current.files[0];console.log(e);const t=new FormData;t.append("image",e);const l=await o.A.post("/upload ",t);s(l.data.imagePath),console.log(l.data)}catch(e){console.error("Error uploading file:",e)}p(!1)},accept:"image/*",hidden:!0,ref:a})]})};var x=s(3003),h=s(7424),j=s(3216);const v=e=>{let{setLoginVisible:t,setRegisterVisible:s,setCodeFormVisible:r}=e;const[i,c]=(0,l.useState)(null),[d,v]=(0,l.useState)(!1),[g,A]=(0,l.useState)(!0),[f,w]=(0,l.useState)(""),[N,y]=(0,l.useState)(null),C=/^\+998[0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]$/,b=(0,x.wA)(),k=((0,j.Zp)(),e=>{w(e),v(!0)});return(0,l.useEffect)((()=>{})),(0,m.jsx)("div",{className:"",children:(0,m.jsx)("div",{className:"mx-auto my-5 flex w-full",children:(0,m.jsxs)("div",{className:"items-center justify-center m-auto ".concat(n),children:[(0,m.jsx)("h2",{className:"text-center font-bold text-lg my-4",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),(0,m.jsx)("div",{className:"flex justify-center mb-4 p-2 items-center text-sm border border-blue-gray-200 rounded-xl",children:(0,m.jsx)(p,{list:i,setList:c})}),(0,m.jsxs)("form",{onSubmit:async e=>{try{if(e.preventDefault(),console.log(e.target.city.value),v(!1),""===e.target.name.value.trim())return void k("\u0418\u043c\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u043f\u043e\u043b\u044f");if(!C.test(e.target.phoneNumber.value.trim()))return void k("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430");if(""===e.target.phoneNumber.value.trim())return void k("\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u043f\u043e\u043b\u044f");if(""===N.trim())return void k("\u0413\u043e\u0440\u043e\u0434 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u043f\u043e\u043b\u044f");if(""===e.target.address.value.trim())return void k("\u0410\u0434\u0440\u0435\u0441 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u043f\u043e\u043b\u044f");const t={name:e.target.name.value,phoneNumber:e.target.phoneNumber.value.trim(),city:N,avatarUrl:i,address:[e.target.address.value],telegram:e.target.telegram.value};""!==e.target.email.value&&(t.email=e.target.email.value),console.log(t);if(200!==(await o.A.post("/register-verify",t)).status)return void k("\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u043f\u043e\u043b\u044f");b((0,h.UM)(t));200===(await o.A.post("/send-code",{phoneNumber:t.phoneNumber})).status&&(s(!1),setTimeout((()=>{r(!0)}),200))}catch(n){var t,l,a;const e=(null===n||void 0===n?void 0:n.response)||null;console.log(n),400===(null===n||void 0===n||null===(t=n.response)||void 0===t?void 0:t.status)?k("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u0432\u043e\u0434\u0435 \u0434\u0430\u043d\u043d\u044b\u0445"):500===(null===n||void 0===n||null===(l=n.response)||void 0===l?void 0:l.status)?k("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u0441\u044f"):401===(null===n||void 0===n||null===(a=n.response)||void 0===a?void 0:a.status)?k(e.data.message):k(n.message)}},className:a,children:[(0,m.jsxs)("div",{className:"grid gap-2 sm:flex",children:[(0,m.jsx)(u.Input,{type:"text",name:"name",placeholder:"\u0412\u0430\u0441\u0438\u043b\u0438\u0439 \u041f\u0443\u043f\u043a\u0438\u043d",label:"\u0418\u043c\u044f"}),(0,m.jsx)(u.Input,{type:"email",name:"email",placeholder:"empty@empty.com",label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"})]}),(0,m.jsxs)("div",{className:"grid gap-2 sm:flex",children:[(0,m.jsx)(u.Input,{type:"text",name:"phoneNumber",placeholder:"+998 99 999 99 99",label:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"}),(0,m.jsx)(u.Input,{type:"text",name:"telegram",placeholder:"@username",label:"\u0422\u0435\u043b\u0435\u0433\u0440\u0430\u043c @username"})]}),(0,m.jsx)("div",{className:"grid gap-2 sm:flex",children:(0,m.jsxs)(u.Select,{size:"md",label:"\u0412\u0430\u0448 \u0433\u043e\u0440\u043e\u0434",name:"city",onChange:e=>y(e),children:[(0,m.jsx)(u.Option,{value:"\u0433\u043e\u0440\u043e\u0434 \u0422\u0430\u0448\u043a\u0435\u043d\u0442",children:"\u0433\u043e\u0440\u043e\u0434 \u0422\u0430\u0448\u043a\u0435\u043d\u0442"}),(0,m.jsx)(u.Option,{value:"\u0422\u0430\u0448\u043a\u0435\u043d\u0442\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",children:"\u0422\u0430\u0448\u043a\u0435\u043d\u0442\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c"}),(0,m.jsx)(u.Option,{value:"\u0421\u0430\u043c\u0430\u0440\u043a\u0430\u043d\u0434\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",children:"\u0421\u0430\u043c\u0430\u0440\u043a\u0430\u043d\u0434\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c"}),(0,m.jsx)(u.Option,{value:"\u0424\u0435\u0440\u0433\u0430\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",children:"\u0424\u0435\u0440\u0433\u0430\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c"}),(0,m.jsx)(u.Option,{value:"\u0425\u043e\u0440\u0435\u0437\u043c\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",children:"\u0425\u043e\u0440\u0435\u0437\u043c\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c"}),(0,m.jsx)(u.Option,{value:"\u0421\u044b\u0440\u0434\u0430\u0440\u044c\u0438\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",children:"\u0421\u044b\u0440\u0434\u0430\u0440\u044c\u0438\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c"}),(0,m.jsx)(u.Option,{value:"\u0421\u0443\u0440\u0445\u0430\u043d\u0434\u0430\u0440\u044c\u0438\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",children:"\u0421\u0443\u0440\u0445\u0430\u043d\u0434\u0430\u0440\u044c\u0438\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c"}),(0,m.jsx)(u.Option,{value:"\u041d\u0430\u043c\u0430\u043d\u0433\u0430\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",children:"\u041d\u0430\u043c\u0430\u043d\u0433\u0430\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c"}),(0,m.jsx)(u.Option,{value:"\u041d\u0430\u0432\u043e\u0438\u0439\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",children:"\u041d\u0430\u0432\u043e\u0438\u0439\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c"}),(0,m.jsx)(u.Option,{value:"\u041a\u0430\u0448\u043a\u0430\u0434\u0430\u0440\u044c\u0438\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",children:"\u041a\u0430\u0448\u043a\u0430\u0434\u0430\u0440\u044c\u0438\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c"}),(0,m.jsx)(u.Option,{value:"\u0414\u0436\u0438\u0437\u0430\u043a\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",children:"\u0414\u0436\u0438\u0437\u0430\u043a\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c"}),(0,m.jsx)(u.Option,{value:"\u0411\u0443\u0445\u0430\u0440\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",children:"\u0411\u0443\u0445\u0430\u0440\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c"}),(0,m.jsx)(u.Option,{value:"\u0410\u043d\u0434\u0438\u0436\u0430\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",children:"\u0410\u043d\u0434\u0438\u0436\u0430\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c"}),(0,m.jsx)(u.Option,{value:"\u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430 \u041a\u0430\u0440\u0430\u043a\u0430\u043b\u043f\u0430\u043a\u0441\u0442\u0430\u043d",children:"\u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430 \u041a\u0430\u0440\u0430\u043a\u0430\u043b\u043f\u0430\u043a\u0441\u0442\u0430\u043d"})]})}),(0,m.jsx)("div",{className:"grid gap-2 sm:flex",children:(0,m.jsx)(u.Input,{type:"text",name:"address",placeholder:"\u0443\u043b\u0438\u0446\u0430, \u0434\u043e\u043c, \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0430",label:"\u0410\u0434\u0440\u0435\u0441"})}),d&&(0,m.jsxs)(u.Typography,{variant:"small",color:"gray",className:"mt-2 flex items-center gap-1 font-normal",children:[(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"-mt-px h-4 w-4",children:(0,m.jsx)("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 01.67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 11-.671-1.34l.041-.022zM12 9a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})}),(0,m.jsx)("p",{className:"text-red-500",children:f})]}),(0,m.jsxs)("div",{className:"flex flex-col m-auto items-center",children:[(0,m.jsx)(u.Button,{variant:"outlined",color:"red",size:"md",className:"mt-4",disabled:!g,type:"submit",children:g?"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f":"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430"}),(0,m.jsxs)("div",{className:"flex w-full mt-4 text-xs",children:[(0,m.jsx)("p",{className:"mr-1",children:"\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?"}),(0,m.jsx)("p",{className:"cursor-pointer text-xs text-red-500 border-b border-b-red-500",onClick:()=>{s(!1),setInterval((()=>{t(!0)}),200)},children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]})]})})})}},4229:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFT0lEQVR4nO1dSW9cRRBuFkHggoCABIjlgABxQpqpGgcZhqma2AHCKsxPIALEIpYzVw6AYpZDQHDgB0QspxBOERE3IEC4JA6LwReIsadrDBych+o5QTlgj+Pp96p7pj+ppJFmbHV936teqrvrOZeRkZGRkZGRkZGRkRER/M4dV0sXpj3Ds0L4jhB+LgTfesI5YVj0hP+onf48p98J4UH9rWd4Rjo41dt1x1XWfiSDYnfj0j7jQ0I4WxLNeEoYi2Fs7X/AEWHY2++0HiwmJi6x9jMqFK+483vd1qQn2CcEy8MSPtAIlj3Dh31qPlDMzFzgxhVFu72tx82nPMGJyklfLzoI53pdeLLYdfPFbpy6GengS55wwYr4/xFiwTO8oG1zowwNe8/wozXhsu54AfM9wsfcqOGvdusmT/ipNcGyeSE+Xuk2bnCjgD7hwzpNtCZVtjJYd+Fxlyp0YCunk9ZE8pDRQLAvuUF6meFKT/ClNXkSLBrwi6WpiStcCuh377y2XJFak8ahRYAfVqaa17uY0Ztq3OYJfzEni6sxT/jzcqd5q4sRfZq4zjP8ZE2SVC0Cw68rnR03utj6fA1Ra3KkNoOj0YwJOkMYqQGXNxsJeDiK2ZEwvG1NhlgZ4awp+bpsNyeBba3XbT5qll4QwiVrAsTe/jQZlD3jJxE4X8RgnuAjg/yOveMSkWmmtxbyNWc+DvN9OUfTjaVatjuF8WVrZyVS84TP1zHn/83SyUEwFmBBt1orE0D3cK2fskGwbl+fcE9lpxcsN9AlEQGE8Xjh3HnBBfCEnQicKxIQoOh14O7wAjB8YO2YJCKAZ3wvKPk6vYpl1TsI1u0rjWA56JS0PC5o7RQnJIBaF+8PJkBMm+uDYN2+s+y1gALEs8c7CNbtO2Oe8OtgR8RDnFIeQwFWe+3G9uGf/i5MWzsjCQpQisDN7vARoJcjInBGUhSA8OnhI0BvpkTgjCQogBC+GUKAg+aOcJoCeIYDIQT4zoLIulGNCHBkaAGq2nyJDVJFBBCcCBABcDILgFsV4ffhI6C8BpojQLYUAfh3FiB1AXIXhMZdUB6EC+NBOE9DxXIamhdiaL4Qy6kINkxF5GQcGifjcjq6ME1Ha72dvCGDW3n6V/Xq1tAClFGQtySLLQjwVRDySwEY9g6xGAlqg2Ddvko25bXSVAQOFUkJ0GndF0yAfDALz418wqXgdwU8wfvmTxWnEQGe8N2g5JcCcOsea8ckEQF6hHdVdDxdy0VmAWRDDuBYJcfTFVrgLguAGwrQ59YTrirkK0q4cd/PMF95+QJP8KJ1FEikpnkzV9M11WgrH4qdHa/0gt7ZEGreG4HDRVQW8j7AZqClHc2d5jjMM+53dUPramqhCmvnxdxg0ayWnDDsjilVLfU/+af6BI+YkB/j9SWp2wjecNYo1waMh83J4LoNDhUzt1/kYsBit3GZZ/jGnhSsy76PpmjfGJatnI+2sLcWNdXipiNduJXhFhczZLpxzdo7W+wJk6AGR6MvXXwG2j+O1sAMh5YmJy93KaFoty/0jK+mvE7w2nbC2WhmO1uvM5HoCxwIZ9woQOtqppQ78oz7k+nvzzl1EUHVLVmPeN1yrTurWTf0uIZWF9Qy8BLNEw/znlrP1ZbPjwGawugT7tGNDDvy4Zju4SY9yIZAv9NqrL0/Ev+onHTCJX2VoZ5cruz0Qqoo2u1t2gdrllHr7egJ4wD9+qoelBXC1/W44Fh1M8Oi125s99TaqRcdhOEtYfhMk36nX1178r/X2a59niu/Yzigv9W/0ac82BHxjIyMjIyMjIyMjIwMFwb/AmJWavR1BsfOAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=359.c9ec6c1e.chunk.js.map